@startuml
hide footbox
Actor User
"User" -> ":Duke": "add-user..."
activate ":Duke"
":Duke" -> ":CommandParser": createCommand()
activate ":CommandParser"
":CommandParser" -> ":AddUserCommand": new
activate ":AddUserCommand"
return :AddUserCommand
":CommandParser" --> ":Duke": command
deactivate
":Duke" -> ":AddUserCommand" : executeCommand()
activate ":AddUserCommand"
":AddUserCommand" -> ":AddUserCommand": getArgsAddUserCmd()
activate ":AddUserCommand"
return args
alt args is valid
    ":AddUserCommand" -> ":User": new User()
    activate ":User"
    ":User" --> ":AddUserCommand": user
    ":AddUserCommand" -> ":UserList": addUser()
    activate ":UserList"
    ":AddUserCommand" -> "<<class>>\nUi": addUserMessage()
    activate "<<class>>\nUi"
    return
    deactivate ":UserList"
    deactivate "<<class>>\nUi"
    deactivate ":User"
else args is invalid
    ":AddUserCommand" --> ":Duke" : DukeException
    deactivate ":AddUserCommand"
    ":Duke" -> "<<class>>\nUi" : print error
    activate "<<class>>\nUi"
    "<<class>>\nUi" --> ":Duke" : error message
    deactivate "<<class>>\nUi"
end
":Duke" --> "User"
@enduml